<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>È≠îÊ≥ïÊ£ÆÊûóÊï∏Â≠∏Êé¢Èö™</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft JhengHei', 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }
        }

        /* Ê®ôÈ°åÂçÄÂüü */
        .game-title {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .game-title h1 {
            font-size: clamp(28px, 6vw, 48px);
            margin-bottom: 10px;
            animation: titleFloat 3s ease-in-out infinite;
        }

        .coin-tag {
            display: inline-block;
            background: #ffd700;
            color: #8b4513;
            padding: 5px 15px;
            border-radius: 20px;
            margin: 5px;
            font-weight: bold;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
            border: 2px solid #daa520;
        }

        .coin-container {
            margin: 5px 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 3px;
            max-width: 100%;
            padding: 5px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 15px;
        }

        .coin-row {
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
            align-items: center;
            width: 100%;
            gap: 2px;
            margin-bottom: 3px;
            padding: 3px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
        }

        .coin-row-count {
            margin-left: auto;
            font-weight: bold;
            color: #333;
            font-size: clamp(0.8em, 3vw, 1em);
            padding: 1px 6px;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 5px;
            min-width: 35px;
            text-align: center;
        }

        .coin-row:last-child {
            margin-bottom: 0;
        }

        .coin-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: rgba(255, 255, 255, 0.8);
            padding: 2px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .coin-img {
            width: clamp(30px, 8vw, 50px);
            height: auto;
            min-height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
        }

        .coin-wrapper.is-bill .coin-img {
            width: clamp(50px, 12vw, 80px);
        }

        .coin-img svg {
            width: 100%;
            height: 100%;
            max-height: 50px;
        }

        .coin-count {
            font-weight: bold;
            color: #333;
            font-size: 1.1em;
        }

        @keyframes titleFloat {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-10px);
            }
        }

        /* ÈóúÂç°Âú∞Âúñ */
        .level-map {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .level-card {
            background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .level-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transform: rotate(45deg);
            transition: all 0.5s;
        }

        .level-card:hover::before {
            left: 100%;
        }

        .level-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        .level-card h3 {
            font-size: clamp(20px, 4vw, 26px);
            color: #667eea;
            margin-bottom: 15px;
            text-align: center;
        }

        .level-icon {
            font-size: clamp(40px, 8vw, 60px);
            text-align: center;
            margin-bottom: 15px;
        }

        .level-records {
            display: flex;
            justify-content: space-around;
            margin-top: 15px;
            gap: 10px;
        }

        .record-item {
            text-align: center;
            flex: 1;
        }

        .record-item .label {
            font-size: clamp(12px, 2.5vw, 14px);
            color: #666;
            margin-bottom: 5px;
        }

        .stars {
            font-size: clamp(16px, 3.5vw, 20px);
            color: #ffd700;
        }

        /* Á∑¥ÁøíÂçÄÂüüÊ®£Âºè */
        .practice-section {
            margin-top: 50px;
            padding: clamp(15px, 4vw, 30px);
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            border-radius: 25px;
            box-shadow: 0 15px 35px rgba(255, 154, 158, 0.4);
        }

        .practice-title {
            text-align: center;
            color: white;
            font-size: clamp(24px, 5vw, 32px);
            margin-bottom: 25px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            animation: practiceGlow 2s ease-in-out infinite alternate;
        }

        @keyframes practiceGlow {
            from {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), 0 0 10px rgba(255, 255, 255, 0.5);
            }

            to {
                text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 255, 255, 0.8);
            }
        }

        .practice-map {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            justify-items: center;
        }

        .practice-card {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border: 3px solid transparent;
            background-clip: padding-box;
            max-width: 400px;
        }

        .practice-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 204, 0, 0.3), transparent);
            transform: rotate(45deg);
            transition: all 0.5s;
        }

        .practice-card:hover::before {
            left: 100%;
        }

        .practice-card:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 50px rgba(255, 154, 158, 0.5);
            border-color: #ffcc00;
        }

        .practice-card h3 {
            font-size: clamp(22px, 4vw, 28px);
            color: #ff6b6b;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
        }

        .practice-icon {
            font-size: clamp(50px, 10vw, 70px);
            text-align: center;
            margin-bottom: 20px;
            animation: practiceFloat 3s ease-in-out infinite;
        }

        @keyframes practiceFloat {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            50% {
                transform: translateY(-8px) rotate(5deg);
            }
        }

        .practice-description {
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 12px;
            font-size: clamp(14px, 3vw, 16px);
            font-weight: bold;
            margin-top: 15px;
        }

        /* Èõ£Â∫¶ÈÅ∏ÊìáÂΩàÁ™ó */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 25px;
            padding: clamp(15px, 5vw, 30px);
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-content h2 {
            color: #667eea;
            text-align: center;
            margin-bottom: 25px;
            font-size: clamp(22px, 5vw, 28px);
        }

        .difficulty-buttons {
            display: flex;
            gap: 15px;
            flex-direction: column;
        }

        .difficulty-btn {
            padding: 20px;
            font-size: clamp(18px, 4vw, 22px);
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .difficulty-btn.easy {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            color: #2c5f2d;
        }

        .difficulty-btn.hard {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: #8b2500;
        }

        .difficulty-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .close-modal {
            background: #ccc;
            color: #333;
            margin-top: 15px;
            padding: 12px;
            font-size: clamp(16px, 3.5vw, 18px);
        }

        /* ÈÅäÊà≤Áï´Èù¢ */
        .game-screen {
            display: none;
            background: white;
            border-radius: 25px;
            padding: clamp(15px, 5vw, 40px);
            max-width: 800px;
            margin: 0 auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .game-screen.active {
            display: block;
        }

        .game-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }

        @media (max-width: 600px) {
            .game-header {
                justify-content: center;
                text-align: center;
            }

            .game-info {
                justify-content: center;
                width: 100%;
            }
        }

        .game-info {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .info-item {
            font-size: clamp(14px, 3vw, 18px);
            font-weight: bold;
            color: #667eea;
        }

        .back-btn {
            padding: 12px 24px;
            background: #ff6b6b;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: clamp(14px, 3vw, 16px);
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: #ee5a52;
            transform: scale(1.05);
        }

        .question-area {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 20px;
            padding: clamp(15px, 4vw, 30px);
            margin-bottom: 20px;
            min-height: 150px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .question-text {
            font-size: clamp(16px, 4vw, 24px);
            color: #333;
            text-align: center;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        /* ÊôÇÈêòÈ°ØÁ§∫ */
        .clock-canvas {
            width: clamp(150px, 40vw, 250px);
            height: clamp(150px, 40vw, 250px);
            border: 8px solid #333;
            border-radius: 50%;
            position: relative;
            background: white;
            margin: 20px auto;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .clock-center {
            width: 12px;
            height: 12px;
            background: #333;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 10;
        }

        .clock-hand {
            position: absolute;
            bottom: 50%;
            left: 50%;
            transform-origin: bottom center;
            background: #333;
            transition: transform 0.5s cubic-bezier(0.4, 2.08, 0.55, 0.44);
        }

        .hour-hand {
            width: 6px;
            height: 25%;
            background: #333;
            margin-left: -3px;
        }

        .minute-hand {
            width: 4px;
            height: 35%;
            background: #666;
            margin-left: -2px;
        }

        .clock-number {
            position: absolute;
            font-size: clamp(12px, 3vw, 16px);
            font-weight: bold;
            color: #333;
            width: 20px;
            height: 20px;
            text-align: center;
            line-height: 20px;
            margin-top: -10px;
            margin-left: -10px;
            z-index: 5;
        }

        .clock-tick {
            position: absolute;
            top: 0;
            left: 50%;
            transform-origin: bottom center;
            pointer-events: none;
        }

        .clock-tick-inner {
            width: 100%;
            background: #333;
        }

        /* ÈáùÂ∞çÂ∞èËû¢ÂπïÈÄ≤‰∏ÄÊ≠•Â£ìÁ∏ÆÁ©∫Èñì */
        @media (max-width: 600px) {
            .question-area {
                padding: 10px;
                margin-bottom: 10px;
                min-height: 120px;
            }

            .coin-container {
                margin: 2px 0;
                padding: 3px;
            }

            .coin-row {
                margin-bottom: 2px;
                padding: 2px;
            }

            .answers-grid {
                gap: 8px;
                margin-top: 10px;
            }

            .answer-btn {
                padding: 12px 10px;
            }
        }

        .answers-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .answer-btn {
            padding: clamp(10px, 3vw, 20px);
            font-size: clamp(16px, 3.5vw, 20px);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            min-height: 60px;
        }

        .answer-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .answer-btn:active {
            transform: translateY(0);
        }

        .answer-btn.correct {
            background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%);
            animation: correctPulse 0.5s ease;
        }

        .answer-btn.wrong {
            background: linear-gradient(135deg, #eb3349 0%, #f45c43 100%);
            animation: wrongShake 0.5s ease;
        }

        @keyframes correctPulse {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.1);
            }
        }

        @keyframes wrongShake {

            0%,
            100% {
                transform: translateX(0);
            }

            25% {
                transform: translateX(-10px);
            }

            75% {
                transform: translateX(10px);
            }
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #56ab2f 0%, #a8e063 100%);
            transition: width 0.3s ease;
        }

        /* ÁµêÊûúÁï´Èù¢ */
        .result-screen {
            display: none;
            background: white;
            border-radius: 25px;
            padding: clamp(20px, 5vw, 40px);
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .result-screen.active {
            display: block;
            animation: modalSlideIn 0.5s ease;
        }

        .result-screen h2 {
            font-size: clamp(28px, 6vw, 36px);
            color: #667eea;
            margin-bottom: 20px;
        }

        .result-stars {
            font-size: clamp(40px, 10vw, 60px);
            margin: 20px 0;
        }

        .result-message {
            font-size: clamp(18px, 4vw, 22px);
            color: #666;
            margin-bottom: 30px;
        }

        .result-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .result-btn {
            padding: 15px 30px;
            font-size: clamp(16px, 3.5vw, 18px);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .retry-btn {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .home-btn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .result-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        /* ÈüøÊáâÂºèË®≠Ë®à */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }

            .level-map {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }

            .game-header {
                flex-direction: column;
                align-items: flex-start;
            }

            .answers-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .difficulty-buttons {
                gap: 12px;
            }
        }

        @media (min-width: 769px) and (max-width: 1024px) {
            .level-map {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Ëß∏ÊéßÂÑ™Âåñ */
        @media (hover: none) and (pointer: coarse) {

            .answer-btn,
            .difficulty-btn,
            .result-btn,
            .back-btn {
                min-height: 50px;
                padding: 18px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- ÈÅäÊà≤Ê®ôÈ°å -->
        <div class="game-title">
            <h1>üå≥ È≠îÊ≥ïÊ£ÆÊûóÊï∏Â≠∏Êé¢Èö™ üå≥</h1>
            <p>ÈÅ∏ÊìáÈóúÂç°ÈñãÂßãÂÜíÈö™ÂêßÔºÅ</p>
        </div>

        <!-- ÈóúÂç°Âú∞Âúñ -->
        <div id="levelMap" class="level-map"></div>

        <!-- Á∑¥ÁøíÂçÄÂüü -->
        <div class="practice-section">
            <h2 class="practice-title">üî• ÁâπÂà•Á∑¥ÁøíÂçÄ üî•</h2>
            <div id="practiceMap" class="practice-map"></div>
        </div>

        <!-- Èõ£Â∫¶ÈÅ∏ÊìáÂΩàÁ™ó -->
        <div id="difficultyModal" class="modal">
            <div class="modal-content">
                <h2 id="modalTitle">ÈÅ∏ÊìáÈõ£Â∫¶</h2>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn easy" onclick="GameEngine.startLevel(GameEngine.state.currentLevel.id, 'easy')">
                        üå± Á∞°ÂñÆÊ®°Âºè
                    </button>
                    <button class="difficulty-btn hard" onclick="GameEngine.startLevel(GameEngine.state.currentLevel.id, 'hard')">
                        üî• Âõ∞Èõ£Ê®°Âºè
                    </button>
                    <button class="difficulty-btn close-modal" onclick="UIManager.closeModal()">
                        ÂèñÊ∂à
                    </button>
                </div>
            </div>
        </div>

        <!-- ÈÅäÊà≤Áï´Èù¢ -->
        <div id="gameScreen" class="game-screen">
            <div class="game-header">
                <div class="game-info">
                    <div class="info-item">
                        <span id="levelName">ÈóúÂç°ÂêçÁ®±</span>
                    </div>
                    <div class="info-item">
                        È°åÁõÆ: <span id="questionNumber">1</span>/<span id="totalQuestions">10</span>
                    </div>
                    <div class="info-item">
                        ÈåØË™§: <span id="errorCount">0</span>/3
                    </div>
                </div>
                <button class="back-btn" onclick="UIManager.confirmExit()">ËøîÂõûÂú∞Âúñ</button>
            </div>

            <div class="progress-bar">
                <div id="progressFill" class="progress-fill" style="width: 0%"></div>
            </div>

            <div class="question-area">
                <div id="questionContent" class="question-text"></div>
                <div id="clockContainer"></div>
            </div>

            <div id="answersContainer" class="answers-grid"></div>
        </div>

        <!-- ÁµêÊûúÁï´Èù¢ -->
        <div id="resultScreen" class="result-screen">
            <h2 id="resultTitle">ÊÅ≠ÂñúÂÆåÊàêÔºÅ</h2>
            <div id="resultStars" class="result-stars"></div>
            <div id="resultMessage" class="result-message"></div>
            <div class="result-buttons">
                <button class="result-btn retry-btn" onclick="GameEngine.retryLevel()">ÂÜçÁé©‰∏ÄÊ¨°</button>
                <button class="result-btn home-btn" onclick="GameEngine.backToMap()">ËøîÂõûÂú∞Âúñ</button>
            </div>
        </div>
    </div>

    <script>
        const STORY_MAZE_HARD_QUESTIONS = [
            { q: "Â∞èÂÖâÊúâ38Â°äÁ©çÊú®ÔºåÂ∞èËèØÁµ¶‰ªñ16Â°äÂæåÔºåÂ∞èÂÖâÂèàÂÄüÁµ¶ÂêåÂ≠∏15Â°äÔºåÂ∞èÂÖâÁèæÂú®ÊúâÂπæÂ°äÁ©çÊú®Ôºü", options: ["39Â°ä", "37Â°ä", "22Â°ä", "7Â°ä"], answer: "39Â°ä" },
            { q: "Â∞èÂÇëÂÆ∂Ë£°Êúâ24Êú¨ÊïÖ‰∫ãÊõ∏ÔºåÁà∏Áà∏ÂèàË≤∑‰∫Ü18Êú¨ÔºåÁà∫Áà∫‰πüÈÄÅ‰æÜ15Êú¨ÔºåÁèæÂú®Â∞èÂÇëÂÆ∂‰∏ÄÂÖ±ÊúâÂπæÊú¨ÊïÖ‰∫ãÊõ∏Ôºü", options: ["57Êú¨", "49Êú¨", "42Êú¨", "62Êú¨"], answer: "57Êú¨" },
            { q: "ÊïôÂÆ§Ë£°ÂéüÊú¨Êúâ14ÊûùÁ≤âÁ≠ÜÔºåÁ¨¨‰∏ÄÁØÄË™≤ÂÖàÁî®5ÊûùÔºåÁ¨¨‰∫åÁØÄË™≤ÂÜçÁî®4ÊûùÔºåÁèæÂú®ÈÇÑÊúâÂπæÊûùÁ≤âÁ≠ÜÔºü", options: ["5Êûù", "13Êûù", "23Êûù", "9Êûù"], answer: "5Êûù" },
            { q: "ÊúÉË≠∞ÂÆ§Ë£°Êúâ40ÂºµÊ§ÖÂ≠êÔºåÂÖàÊê¨Ëµ∞18ÂºµÔºåÂæå‰æÜÂÜçÊê¨Ëµ∞12ÂºµÔºåÊúÉË≠∞ÂÆ§Ë£°ÈÇÑÂâ©ÂπæÂºµÊ§ÖÂ≠êÔºü", options: ["10Âºµ", "34Âºµ", "46Âºµ", "58Âºµ"], answer: "10Âºµ" },
            { q: "Ê°∂Â≠êË£°ÂéüÊúâ7ÂÄãÁ∂†Ëâ≤Êµ∑Ê¥ãÁêÉÁêÉÔºåÂÖàÊîæÈÄ≤Âéª6ÂÄãÁ¥ÖËâ≤Êµ∑Ê¥ãÁêÉÔºåÂÜçÊîæÈÄ≤Âéª2ÂÄãÈªÉËâ≤Êµ∑Ê¥ãÁêÉÔºåÊ°∂Â≠êË£°ÂêàËµ∑‰æÜÊúâÂπæÂÄãÊµ∑Ê¥ãÁêÉÔºü", options: ["15ÂÄã", "11ÂÄã", "13ÂÄã", "9ÂÄã"], answer: "15ÂÄã" },
            { q: "1ÊûùÊ¶¥Êß§ÂÜ∞Ê£íÊòØ46ÂÖÉÔºå1ÊûùÁ¥ÖË±ÜÁâõÂ•∂ÂÜ∞Ê£íÊØîÊ¶¥Êß§ÂÜ∞Ê£íÂ∞ë19ÂÖÉÔºå1ÊûùÊûúÊûùÂÜ∞Ê£íÊØîÁ¥ÖË±ÜÁâõÂ•∂ÂÜ∞Ê£íÂ∞ë9ÂÖÉÔºå1ÊûùÊûúÊûùÂÜ∞Ê£íÊòØÂπæÂÖÉÔºü", options: ["18ÂÖÉ", "27ÂÖÉ", "10ÂÖÉ", "37ÂÖÉ"], answer: "18ÂÖÉ" },
            { q: "Ê∏∏Ê≥≥Ê±†Êèê‰æõ20ÂÄãÈªÉËâ≤ÊµÆÊùøÂíå10ÂÄãËóçËâ≤ÊµÆÊùøÔºåË¢´ÂÄüËµ∞15ÂÄãÔºåÊ∏∏Ê≥≥Ê±†ÈÇÑÂâ©‰∏ãÂπæÂÄãÊµÆÊùøÔºü", options: ["15ÂÄã", "25ÂÄã", "5ÂÄã", "10ÂÄã"], answer: "15ÂÄã" },
            { q: "Â™ΩÂ™ΩË≤∑‰∫Ü60È°ÜÁ≥ñÊûúÔºåÂÖàÂàÜÁµ¶Âì•Âì•18È°ÜÔºåÂÜçÂàÜÁµ¶Â¶πÂ¶π25È°ÜÔºåÂ™ΩÂ™ΩÈÇÑÂâ©ÂπæÈ°ÜÁ≥ñÊûúÔºü", options: ["17È°Ü", "19È°Ü", "21È°Ü", "27È°Ü"], answer: "17È°Ü" },
            { q: "Â™ΩÂ™ΩÂéªË∂ÖÂ∏ÇË≤∑Êù±Ë•øÔºåÂ•πË≤∑‰∫Ü‰∏ÄÁΩê28ÂÖÉÁöÑÁâõÂ•∂„ÄÅ‰∏ÄÂÄã15ÂÖÉÁöÑÈ∫µÂåÖÂíå‰∏Ä‰ªΩ35ÂÖÉÁöÑÊ≤ôÊãâÔºåÂ™ΩÂ™ΩÂÖ±Ëä±‰∫ÜÂ§öÂ∞ëÂÖÉÔºü", options: ["78ÂÖÉ", "68ÂÖÉ", "88ÂÖÉ", "73ÂÖÉ"], answer: "78ÂÖÉ" },
            { q: "Êõ∏Êû∂‰∏äÂéüÊúâ11Êú¨ÈõúË™åÔºåÂ∞èËèØÂÖàÊîæÂÖ•8Êú¨ÊïÖ‰∫ãÊõ∏ÔºåÂÜçÊîæÂÖ•9Êú¨Áπ™Êú¨ÔºåÊõ∏Êû∂‰∏äÁèæÂú®ÂÖ±ÊúâÂπæÊú¨Êõ∏Ôºü", options: ["28Êú¨", "29Êú¨", "27Êú¨", "20Êú¨"], answer: "28Êú¨" },
            { q: "Â∞èÁæéÂÅö‰∫Ü25ÂÄãÁôΩÂ∑ßÂÖãÂäõÂíå36ÂÄãÈªëÂ∑ßÂÖãÂäõÔºåÈÄÅÁµ¶Â∞èËä≥19ÂÄãÂæåÔºåÈÇÑÂâ©‰∏ãÂπæÂÄãÂ∑ßÂÖãÂäõÔºü", options: ["42ÂÄã", "80ÂÄã", "30ÂÄã", "61ÂÄã"], answer: "42ÂÄã" },
            { q: "ÈòøÊΩ≠Â∏∂60ÂÖÉÂéªË∂ÖÂïÜË≤∑‰∫Ü18ÂÖÉÁöÑËå∂ËëâËõãÂíå32ÂÖÉÁöÑÈ∫µÂåÖÂæåÔºåÈÇÑÂâ©‰∏ãÂπæÂÖÉÔºü", options: ["10ÂÖÉ", "46ÂÖÉ", "42ÂÖÉ", "28ÂÖÉ"], answer: "10ÂÖÉ" },
            { q: "Â∞èÁæéÊúâ26ÂºµË≤ºÁ¥ôÔºåÂ∞èËä≥ÈÄÅÂ•π18ÂºµÔºåÂ∞èËã±ÂèàÈÄÅÂ•π14ÂºµÔºåÂ∞èÁæéÁèæÂú®ÂÖ±ÊúâÂπæÂºµË≤ºÁ¥ôÔºü", options: ["58Âºµ", "57Âºµ", "40Âºµ", "44Âºµ"], answer: "58Âºµ" },
            { q: "Â∞èÁæéË≤∑‰∫Ü30ÂºµÂúñÁï´Á¥ôÔºåÂÖàÈÄÅÁµ¶Â∞èÊ¨£7ÂºµÔºåÂÜçÈÄÅÁµ¶Â∞èÊÄ°9ÂºµÔºåÂ∞èÁæéÈÇÑÂâ©ÂπæÂºµÂúñÁï´Á¥ôÔºü", options: ["14Âºµ", "12Âºµ", "10Âºµ", "23Âºµ"], answer: "14Âºµ" },
            { q: "Á≥ñÊûúË¢ãË£°Êúâ70È°ÜÁ≥ñÊûúÔºåÂ∞èÁèçÂêÉ‰∫Ü25È°ÜÔºåÂ∞èÁæéÂèàÊîæÂÖ•18È°ÜÔºåÁ≥ñÊûúË¢ãË£°ÁèæÂú®ÊúâÂπæÈ°ÜÁ≥ñÊûúÔºü", options: ["63È°Ü", "52È°Ü", "45È°Ü", "77È°Ü"], answer: "63È°Ü" },
            { q: "Â∞èÊòé‰ªäÂ§©Ë¶ÅËÉå20ÂÄãËã±ÊñáÂñÆÂ≠óÔºå‰∏äÂçàÂÖàËÉå9ÂÄãÔºå‰∏ãÂçàÂÜçËÉå7ÂÄãÔºåÂ∞èÊòéÈÇÑÊúâÂπæÂÄãÂñÆÂ≠óÊ≤íËÉåÔºü", options: ["4ÂÄã", "18ÂÄã", "36ÂÄã", "22ÂÄã"], answer: "4ÂÄã" },
            { q: "ÁÆ±Â≠êË£°Êúâ74ÂåÖË¢ñÁèçÂåÖÈù¢Á¥ôÔºåÁà∏Áà∏ÊãøÂéª35ÂåÖÂæåÔºåÂ™ΩÂ™ΩÂèàÊîæÂÖ•17ÂåÖÔºåÁÆ±Â≠êË£°ÁèæÂú®ÊúâÂπæÂåÖË¢ñÁèçÂåÖÈù¢Á¥ôÔºü", options: ["56ÂåÖ", "45ÂåÖ", "39ÂåÖ", "66ÂåÖ"], answer: "56ÂåÖ" },
            { q: "Áè≠‰∏äÂÅöÂç°ÁâáÔºåÁ¨¨‰∏ÄÁµÑÂÅö‰∫Ü22ÂºµÔºåÁ¨¨‰∫åÁµÑÂÅö‰∫Ü18ÂºµÔºåÁ¨¨‰∏âÁµÑÂÅö‰∫Ü19ÂºµÔºå‰∏ÄÂÖ±ÂÅö‰∫ÜÂπæÂºµÂç°ÁâáÔºü", options: ["59Âºµ", "60Âºµ", "69Âºµ", "40Âºµ"], answer: "59Âºµ" },
            { q: "ÂúñÊõ∏ÂÆ§ÂéüÊúâ40Êú¨Á´•Êõ∏Ôºå‰∏äÂçàÊ≠∏ÈÇÑ‰∫Ü35Êú¨ÂúñÁï´Êõ∏Ôºå‰∏ãÂçàÊ≠∏ÈÇÑ‰∫Ü15Êú¨ÁôæÁßëÊõ∏„ÄÇÁèæÂú®ÂúñÊõ∏ÂÆ§ÂÖ±ÊúâÂπæÊú¨Êõ∏Ôºü", options: ["90Êú¨", "95Êú¨", "100Êú¨", "80Êú¨"], answer: "90Êú¨" },
            { q: "ÈòøÈñéÊé°‰∫Ü22ÂÄãÊü≥‰∏ÅÔºåÂ∞èÂêõÊØîÈòøÈñéÂ∞ëÊé°8ÂÄãÔºåÂÖ©‰∫∫ÂÖ±Êé°‰∫ÜÂπæÂÄãÊü≥‰∏ÅÔºü", options: ["36ÂÄã", "33ÂÄã", "30ÂÄã", "38ÂÄã"], answer: "36ÂÄã" },
            { q: "ÂÜ∑ËóèÊ´ÉË£°Êúâ25Áì∂ÈÆÆÂ•∂Ôºå‰∏äÂçàË≥£Âá∫7Áì∂Ôºå‰∏ãÂçàÂèàË≥£Âá∫6Áì∂ÔºåÂÜ∑ËóèÊ´ÉË£°ÈÇÑÂâ©ÂπæÁì∂ÈÆÆÂ•∂Ôºü", options: ["12Áì∂", "13Áì∂", "18Áì∂", "17Áì∂"], answer: "12Áì∂" },
            { q: "ÈÅäÊ®ÇÂ†¥ÁöÑÊóãËΩâÊú®È¶¨ÂèØ‰ª•ÂÆπÁ¥ç45ÂÄãÂ∞èÊúãÂèãÔºåÁèæÂú®Êúâ20ÂÄãÂ∞èÊúãÂèãÂú®‰∏äÈù¢ÔºåÂèà‰∏ä‰æÜ15ÂÄãÔºåÊúÄÂ§öÈÇÑÂèØ‰ª•ÂÜç‰∏ä‰æÜÂπæÂÄãÂ∞èÊúãÂèãÔºü", options: ["5ÂÄã", "7ÂÄã", "10ÂÄã", "15ÂÄã"], answer: "10ÂÄã" },
            { q: "Â™ΩÂ™ΩË≤∑‰∫Ü13ÂÄãÊü≥‰∏ÅÂíå7ÂÄãËòãÊûúÔºåÂæå‰æÜÂèàÂä†Ë≤∑17ÂÄãÂ•áÁï∞ÊûúÔºåÂ™ΩÂ™ΩÂÖ±Ë≤∑‰∫ÜÂπæÂÄãÊ∞¥ÊûúÔºü", options: ["37ÂÄã", "35ÂÄã", "36ÂÄã", "27ÂÄã"], answer: "37ÂÄã" },
            { q: "Ê°∂Â≠êË£°Êúâ25È°Ü‰πí‰πìÁêÉÔºåÂßêÂßêÂèñÂá∫12È°ÜÔºåÂ¶πÂ¶πÂèñÂá∫9È°ÜÔºåÊ°∂Â≠êË£°ÈÇÑÂâ©ÂπæÈ°Ü‰πí‰πìÁêÉÔºü", options: ["4È°Ü", "5È°Ü", "6È°Ü", "13È°Ü"], answer: "4È°Ü" },
            { q: "ÂÄâÂ∫´Ë£°Êúâ85ÁÆ±ËòãÊûúÔºå‰∏äÂçàÂÖàÈÅãËµ∞30ÁÆ±Ôºå‰∏ãÂçàÂÜçÈÅãËµ∞28ÁÆ±ÔºåÂÄâÂ∫´ÈÇÑÂâ©ÂπæÁÆ±ËòãÊûúÔºü", options: ["27ÁÆ±", "143ÁÆ±", "87ÁÆ±", "83ÁÆ±"], answer: "27ÁÆ±" },
            { q: "Á±ÉÁêÉÊØîË≥Ω‰∏≠ÔºåÂ∞èÂº∑Á¨¨‰∏ÄÁØÄÂæó‰∫Ü12ÂàÜÔºåÁ¨¨‰∫åÁØÄÂæó‰∫Ü15ÂàÜÔºåÁ¨¨‰∏âÁØÄÂèàÂæó‰∫Ü8ÂàÜÔºå‰ªñÂÖ±Âæó‰∫ÜÂπæÂàÜÔºü", options: ["35ÂàÜ", "36ÂàÜ", "27ÂàÜ", "20ÂàÜ"], answer: "35ÂàÜ" },
            { q: "Â∞èÁ±≥ÂéüÊúâ58ÂÖÉÔºåË≤∑È£≤ÊñôÁî®Âéª30ÂÖÉÔºåÁà∏Áà∏ÂèàÁµ¶‰ªñ27ÂÖÉÔºåÂ∞èÁ±≥ÁèæÂú®ÊúâÂπæÂÖÉÔºü", options: ["55ÂÖÉ", "18ÂÖÉ", "1ÂÖÉ", "65ÂÖÉ"], answer: "55ÂÖÉ" },
            { q: "Á¥ÖËå∂„ÄÅÁ∂†Ëå∂ÂíåÈùíËå∂ÂÖ±65ÊùØÔºåÁ¥ÖËå∂Êúâ21ÊùØÔºåÈùíËå∂Êúâ24ÊùØÔºåÁ∂†Ëå∂ÊúâÂπæÊùØÔºü", options: ["20ÊùØ", "15ÊùØ", "25ÊùØ", "30ÊùØ"], answer: "20ÊùØ" },
            { q: "ÁêÉÊ±†Ë£°Êúâ54ÂÄã‰∫∫Ôºå25ÂÄã‰∫∫Èõ¢ÈñãÂæåÔºåÂèàÈÄ≤‰æÜ16ÂÄã‰∫∫ÔºåÁêÉÊ±†Ë£°ÁèæÂú®ÊúâÂπæÂÄã‰∫∫Ôºü", options: ["45ÂÄã", "13ÂÄã", "38ÂÄã", "95ÂÄã"], answer: "45ÂÄã" },
            { q: "ÊïôÂÆ§ÁöÑÊõ∏Êû∂‰∏äÔºåÊïÖ‰∫ãÊõ∏Êúâ40Êú¨ÔºåÁßëÂ≠∏Êõ∏Êúâ23Êú¨ÔºåÂãïÁâ©Êõ∏Êúâ17Êú¨ÔºåÈÄô‰∏âÈ°ûÊõ∏ÂÖ±ÂπæÊú¨Ôºü", options: ["80Êú¨", "79Êú¨", "81Êú¨", "34Êú¨"], answer: "80Êú¨" },
            { q: "Ê∞¥ÊûúÂ∫óÊúâ32ÂÄãÂ•áÁï∞ÊûúÔºå‰∏äÂçàÂÖàË≥£‰∫Ü13ÂÄãÔºå‰∏ãÂçàÂèàË≥£‰∫Ü18ÂÄãÔºåÊ∞¥ÊûúÂ∫óÈÇÑÂâ©‰∏ãÂπæÂÄãÂ•áÁï∞ÊûúÔºü", options: ["1ÂÄã", "37ÂÄã", "27ÂÄã", "19ÂÄã"], answer: "1ÂÄã" },
            { q: "Êõ∏Êû∂‰∏äÊúâ18Êú¨Â∞èË™™Âíå7Êú¨ÊïÖ‰∫ãÊõ∏ÔºåÁæéËèØÂÄüËµ∞10Êú¨Êõ∏ÂæåÔºåÊõ∏Êû∂‰∏äÈÇÑÂâ©‰∏ãÂπæÊú¨Êõ∏Ôºü", options: ["15Êú¨", "13Êú¨", "17Êú¨", "25Êú¨"], answer: "15Êú¨" },
            { q: "Ë®àÁÆó„Äå34Ôºã25Ôºã16ÔºùÔºü„ÄçÔºåÊ≠£Á¢∫Á≠îÊ°àÊòØÂ§öÂ∞ëÔºü", options: ["75", "65", "85", "70"], answer: "75" },
            { q: "Â™ΩÂ™ΩÂú®Á¨¨‰∏ÄÈñìÊ∞¥ÊûúÊî§Ë≤∑‰∫Ü15ÂÄãÂ•áÁï∞ÊûúÔºåÂú®Á¨¨‰∫åÈñìÂèàË≤∑‰∫Ü17ÂÄãÔºåÂÖ®ÂÆ∂‰∫∫‰∏ÄËµ∑ÂêÉÊéâ20ÂÄãÂæåÔºåÈÇÑÂâ©ÂπæÂÄãÂ•áÁï∞ÊûúÔºü", options: ["12ÂÄã", "32ÂÄã", "52ÂÄã", "22ÂÄã"], answer: "12ÂÄã" },
            { q: "ÁõíÂ≠êË£°Êúâ20ÂÄãÈõûÂ°äÔºåÁà∏Áà∏ÂêÉ‰∫Ü6ÂÄãÔºåÂ™ΩÂ™ΩÂêÉ‰∫Ü7ÂÄãÔºåÁõíÂ≠êË£°ÈÇÑÂâ©ÂπæÂÄãÈõûÂ°äÔºü", options: ["7ÂÄã", "6ÂÄã", "19ÂÄã", "14ÂÄã"], answer: "7ÂÄã" },
            { q: "Ë®àÁÆó„Äå18Ôºã22Ôºã30ÔºùÔºü„ÄçÔºåÊ≠£Á¢∫Á≠îÊ°àÊòØÂ§öÂ∞ëÔºü", options: ["70", "60", "80", "72"], answer: "70" },
            { q: "È£≤ÊñôÂ∫óÊ∫ñÂÇô‰∫Ü30ÊùØÁ¥ÖËå∂„ÄÅ25ÊùØÂ•∂Ëå∂Âíå20ÊùØÁ∂†Ëå∂„ÄÇ‰ªäÂ§©‰∏ÄÂÖ±Ê∫ñÂÇô‰∫ÜÂπæÊùØÈ£≤ÊñôÔºü", options: ["75ÊùØ", "70ÊùØ", "80ÊùØ", "65ÊùØ"], answer: "75ÊùØ" },
            { q: "Â∞èËä∏‰ªäÂ§©Ë¶ÅÂØ´45È°å‰ΩúÊ•≠Ôºå‰∏äÂçàÂÖàÂØ´18È°åÔºå‰∏ãÂçàÂÜçÂØ´17È°åÔºåÈÇÑÂâ©ÂπæÈ°åÊ≤íÂØ´Ôºü", options: ["10È°å", "11È°å", "12È°å", "20È°å"], answer: "10È°å" },
            { q: "‰∫åÂπ¥1Áè≠Êúâ14ÂÄãÁî∑ÁîüÂíå13ÂÄãÂ•≥ÁîüÔºå‰ªäÊó•Êúâ9ÂÄãÂ≠∏ÁîüË´ãÂÅáÔºåÊúâ‰æÜ‰∏äË™≤ÁöÑÂ≠∏ÁîüÊòØÂπæÂÄãÔºü", options: ["18ÂÄã", "17ÂÄã", "19ÂÄã", "27ÂÄã"], answer: "18ÂÄã" },
            { q: "ÂçöÁâ©È§®Ë£°Êúâ85ÂÄãÈÅäÂÆ¢Ôºå36ÂÄãÈÅäÂÆ¢Èõ¢ÈñãÂæåÔºåÂèàÈÄ≤‰æÜ20ÂÄãÔºåÂçöÁâ©È§®Ë£°ÁèæÂú®ÊúâÂπæÂÄãÈÅäÂÆ¢Ôºü", options: ["69ÂÄã", "29ÂÄã", "105ÂÄã", "141ÂÄã"], answer: "69ÂÄã" },
            { q: "È´îËÇ≤ËÄÅÂ∏´ÁôªË®òÈÅãÂãïÊúÉÈ†ÖÁõÆÔºåÁü≠Ë∑ëÊúâ32ÂÄã‰∫∫Â†±ÂêçÔºåÊé•ÂäõË≥ΩÊúâ25ÂÄã‰∫∫Â†±ÂêçÔºåË∑≥ÈÅ†Êúâ18ÂÄã‰∫∫Â†±ÂêçÔºåÂÖ±ÊúâÂπæÂÄã‰∫∫Â†±ÂêçÂèÉÂä†ÊØîË≥ΩÔºü", options: ["75ÂÄã", "74ÂÄã", "39ÂÄã", "57ÂÄã"], answer: "75ÂÄã" },
            { q: "Â∞èË±™Êúâ90ÂÖÉÔºåË≤∑Áé©ÂÖ∑Áî®‰∫Ü35ÂÖÉÔºåÂèàË≤∑È£≤ÊñôÁî®‰∫Ü28ÂÖÉÔºåÂ∞èË±™ÈÇÑÂâ©‰∏ãÂπæÂÖÉÔºü", options: ["27ÂÖÉ", "83ÂÖÉ", "97ÂÖÉ", "55ÂÖÉ"], answer: "27ÂÖÉ" },
            { q: "Ë®àÁÆó„Äå21Ôºã33Ôºã19ÔºùÔºü„ÄçÔºåÊ≠£Á¢∫Á≠îÊ°àÊòØÂ§öÂ∞ëÔºü", options: ["73", "63", "83", "71"], answer: "73" },
            { q: "ÊïôÂÆ§ÁöÑÊõ∏Êû∂‰∏äÂéüÊúâ55Êú¨Êõ∏Ôºå‰∏äÂçàÂÖàÂÄüÂá∫24Êú¨Ôºå‰∏ãÂçàÂÜçÂÄüÂá∫20Êú¨ÔºåÊõ∏Êû∂‰∏äÈÇÑÂâ©ÂπæÊú¨Êõ∏Ôºü", options: ["11Êú¨", "51Êú¨", "59Êú¨", "31Êú¨"], answer: "11Êú¨" },
            { q: "ÂíñÂï°Âª≥ÊúÄÂ§öÂèØ‰ª•Êèê‰æõ35ÂÄãÂ∫ß‰ΩçÔºåÁèæÂú®Êúâ18ÂÄã‰∫∫ÔºåÂèàÈÄ≤‰æÜ14ÂÄãÔºåÊúÄÂ§öÈÇÑÂèØ‰ª•ÂÜçÈÄ≤‰æÜÂπæÂÄã‰∫∫Ôºü", options: ["3ÂÄã", "39ÂÄã", "31ÂÄã", "32ÂÄã"], answer: "3ÂÄã" },
            { q: "Èòø‰æùÂ∏∂80ÂÖÉÂéªÊ∞¥ÊûúÂ∫óË≤∑‰∫Ü45ÂÖÉÁöÑÂ•áÁï∞ÊûúÂíå32ÂÖÉÁöÑÈ¶ôËïâÂæåÔºåÈÇÑÂâ©‰∏ãÂπæÂÖÉÔºü", options: ["3ÂÖÉ", "35ÂÖÉ", "48ÂÖÉ", "13ÂÖÉ"], answer: "3ÂÖÉ" },
            { q: "Êõ∏Êû∂‰∏äÂéüÊúâ55Êú¨Êõ∏ÔºåÂ∞èËèØÊãøËµ∞28Êú¨ÂæåÔºåÂ∞èËä≥ÂèàÊîæÂÖ•16Êú¨ÔºåÁèæÂú®Êõ∏Êû∂‰∏äÊúâÂπæÊú¨Êõ∏Ôºü", options: ["43Êú¨", "67Êú¨", "11Êú¨", "27Êú¨"], answer: "43Êú¨" },
            { q: "Â∞èÂÅâÂØ´ÂúãË™û‰ΩúÊ•≠Ëä±‰∫Ü20ÂàÜÈêòÔºåÊï∏Â≠∏‰ΩúÊ•≠Ëä±‰∫Ü15ÂàÜÈêòÔºåËá™ÁÑ∂‰ΩúÊ•≠ÂèàËä±‰∫Ü25ÂàÜÈêòÔºåÂ∞èÂÅâÂØ´‰ΩúÊ•≠ÂÖ±Ëä±‰∫ÜÂπæÂàÜÈêòÔºü", options: ["60ÂàÜÈêò", "61ÂàÜÈêò", "70ÂàÜÈêò", "30ÂàÜÈêò"], answer: "60ÂàÜÈêò" },
            { q: "Â∞èË±™ÂéüÊú¨Êúâ20ÂÖÉÔºåÁà∏Áà∏Áµ¶‰ªñ14ÂÖÉÂæåÔºåÂ™ΩÂ™ΩÂÜçÁµ¶‰ªñ13ÂÖÉÔºåÂ∞èË±™ÁèæÂú®ÊúâÂ§öÂ∞ëÂÖÉÔºü", options: ["47ÂÖÉ", "57ÂÖÉ", "67ÂÖÉ", "37ÂÖÉ"], answer: "47ÂÖÉ" },
            { q: "Â∞èÁ±≥Êúâ50ÂÖÉÔºåË≤∑Êó©È§êÁî®Âéª18ÂÖÉÔºåË≤∑È£≤ÊñôÁî®Âéª20ÂÖÉÔºåÂ∞èÁ±≥ÈÇÑÂâ©ÂπæÂÖÉÔºü", options: ["12ÂÖÉ", "14ÂÖÉ", "13ÂÖÉ", "22ÂÖÉ"], answer: "12ÂÖÉ" }
        ];

        const Utils = {
            shuffleArray(array) {
                const newArray = [...array];
                for (let i = newArray.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
                }
                return newArray;
            },
            generateOptions(correctAnswer, range) {
                const options = [correctAnswer];
                while (options.length < 4) {
                    let option;
                    if (typeof correctAnswer === 'number') {
                        // Ê†πÊìöÊ≠£Á¢∫Á≠îÊ°àÁöÑÂ§ßÂ∞è‰æÜÊ±∫ÂÆöÂÅèÁßªÈáèÔºåÈÅøÂÖçÂú®Â§ßÊï∏È°çÊôÇÂÅèÁßªÂ§™Â∞è
                        const magnitude = Math.max(10, Math.pow(10, Math.floor(Math.log10(correctAnswer || 1)) - 1));
                        const offset = (Math.floor(Math.random() * 21) - 10) * magnitude;
                        option = correctAnswer + offset;
                        if (option < 0) option = Math.abs(option);
                        if (option > range) option = option % (range + 1);
                    } else {
                        option = Math.floor(Math.random() * range);
                    }
                    if (!options.includes(option) && option >= 0) {
                        options.push(option);
                    }
                }
                return this.shuffleArray(options);
            },
            generateMultiplicationOptions(correct) {
                const options = [correct];
                const possibleAnswers = [];
                for (let i = 2; i <= 9; i++) {
                    for (let j = 2; j <= 9; j++) {
                        const result = i * j;
                        if (result !== correct && Math.abs(result - correct) <= 20) {
                            possibleAnswers.push(result);
                        }
                    }
                }
                while (options.length < 4 && possibleAnswers.length > 0) {
                    const randomIndex = Math.floor(Math.random() * possibleAnswers.length);
                    const option = possibleAnswers[randomIndex];
                    if (!options.includes(option)) {
                        options.push(option);
                    }
                    possibleAnswers.splice(randomIndex, 1);
                }
                while (options.length < 4) {
                    const offset = Math.floor(Math.random() * 10) + 1;
                    const option = Math.random() > 0.5 ? correct + offset : correct - offset;
                    if (option > 0 && !options.includes(option)) {
                        options.push(option);
                    }
                }
                return this.shuffleArray(options);
            },
            generateDynamicStory() {
                const types = [
                    {
                        // ÂûãÊÖã 1: A + B - C (ÂÖàÂ¢ûÂä†ÂæåÊ∏õÂ∞ë)
                        templates: [
                            { unit: "Â°ä", text: (a, b, c) => `Â∞èÂÖâÊúâ ${a} Â°äÁ©çÊú®ÔºåÂ∞èËèØÁµ¶‰ªñ ${b} Â°äÂæåÔºåÂ∞èÂÖâÂèàÂÄüÁµ¶ÂêåÂ≠∏ ${c} Â°äÔºåÂ∞èÂÖâÁèæÂú®ÊúâÂπæÂ°äÁ©çÊú®Ôºü` },
                            { unit: "ÂÄã‰∫∫", text: (a, b, c) => `ÁêÉÊ±†Ë£°ÂéüÊú¨Êúâ ${a} ÂÄã‰∫∫ÔºåÂèàÈÄ≤‰æÜ‰∫Ü ${b} ÂÄã‰∫∫ÔºåÂæå‰æÜÈõ¢Èñã‰∫Ü ${c} ÂÄã‰∫∫ÔºåÁèæÂú®ÁêÉÊ±†Ë£°ÊúâÂπæÂÄã‰∫∫Ôºü` },
                            { unit: "ÂÄã‰∫∫", text: (a, b, c) => `ÂÖ¨Ëªä‰∏äÂéüÊú¨Êúâ ${a} ÂÄã‰∫∫ÔºåÂà∞Á´ôÂæå‰∏ä‰æÜ‰∫Ü ${b} ÂÄã‰∫∫ÔºåÂèà‰∏ãËªä‰∫Ü ${c} ÂÄã‰∫∫ÔºåÁèæÂú®Ëªä‰∏äÊúâÂπæÂÄã‰∫∫Ôºü` }
                        ],
                        logic: () => {
                            const a = Math.floor(Math.random() * 30) + 20; // 20-50
                            const b = Math.floor(Math.random() * 20) + 10; // 10-30
                            const c = Math.floor(Math.random() * (a + b - 10)) + 5; // Á¢∫‰øùÂâ©È§òËá≥Â∞ë10
                            const ans = a + b - c;
                            return { vars: [a, b, c], answer: ans };
                        }
                    },
                    {
                        // ÂûãÊÖã 2: A - B - C (ÈÄ£Á∫åÊ∏õÂ∞ë)
                        templates: [
                            { unit: "È°Ü", text: (a, b, c) => `Â™ΩÂ™ΩË≤∑‰∫Ü ${a} È°ÜÁ≥ñÊûúÔºåÂàÜÁµ¶Âì•Âì• ${b} È°ÜÔºåÂèàÂàÜÁµ¶Â¶πÂ¶π ${c} È°ÜÔºåÂ™ΩÂ™ΩÈÇÑÂâ©ÂπæÈ°ÜÁ≥ñÊûúÔºü` },
                            { unit: "ÂÖÉ", text: (a, b, c) => `Â∞èË±™Êúâ ${a} ÂÖÉÔºåË≤∑ÊñáÂÖ∑Áî®‰∫Ü ${b} ÂÖÉÔºåË≤∑È£≤ÊñôÁî®‰∫Ü ${c} ÂÖÉÔºåÂ∞èË±™ÈÇÑÂâ©‰∏ãÂπæÂÖÉÔºü` },
                            { unit: "ÂÄã", text: (a, b, c) => `ÁÆ±Â≠êË£°Êúâ ${a} ÂÄãËòãÊûúÔºå‰∏äÂçàÈÅãËµ∞ ${b} ÂÄãÔºå‰∏ãÂçàÂèàÈÅãËµ∞ ${c} ÂÄãÔºåÁÆ±Â≠êÈÇÑÂâ©ÂπæÂÄãËòãÊûúÔºü` }
                        ],
                        logic: () => {
                            const a = Math.floor(Math.random() * 40) + 50; // 50-90
                            const b = Math.floor(Math.random() * 20) + 10; // 10-30
                            const c = Math.floor(Math.random() * (a - b - 10)) + 5; // Á¢∫‰øùÂâ©È§òËá≥Â∞ë10
                            const ans = a - b - c;
                            return { vars: [a, b, c], answer: ans };
                        }
                    },
                    {
                        // ÂûãÊÖã 3: A + B + C (‰∏âÈ†ÖÂä†Ê≥ï)
                        templates: [
                            { unit: "ÂÄã", text: (a, b, c) => `Ê∞¥ÊûúÂ∫óÊúâ ${a} ÂÄãËòãÊûú„ÄÅ${b} ÂÄãÊ©òÂ≠êÂíå ${c} ÂÄãÊ¢®Â≠êÔºåÈÄô‰∏âÁ®ÆÊ∞¥ÊûúÂÖ±ÊúâÂπæÂÄãÔºü` },
                            { unit: "ÂÄã", text: (a, b, c) => `Â∞èÁæéÁ¨¨‰∏ÄÁØÄË™≤ËÉå‰∫Ü ${a} ÂÄãÂñÆÂ≠óÔºåÁ¨¨‰∫åÁØÄËÉå‰∫Ü ${b} ÂÄãÔºåÁ¨¨‰∏âÁØÄÂèàËÉå‰∫Ü ${c} ÂÄãÔºåÂ∞èÁæéÂÖ±ËÉå‰∫ÜÂπæÂÄãÂñÆÂ≠óÔºü` },
                            { unit: "‰Ωç", text: (a, b, c) => `‰∫åÂπ¥Á¥ö‰∏ÄÁè≠Êúâ ${a} ÂÄãÁî∑ÁîüÔºå‰∫åÁè≠Êúâ ${b} ÂÄãÁî∑ÁîüÔºå‰∏âÁè≠Êúâ ${c} ÂÄãÁî∑ÁîüÔºåÈÄô‰∏âÂÄãÁè≠ÂÖ±ÊúâÂπæÂÄãÁî∑ÁîüÔºü` }
                        ],
                        logic: () => {
                            const a = Math.floor(Math.random() * 20) + 10; // 10-30
                            const b = Math.floor(Math.random() * 20) + 10; // 10-30
                            const c = Math.floor(Math.random() * 20) + 10; // 10-30
                            const ans = a + b + c;
                            return { vars: [a, b, c], answer: ans };
                        }
                    }
                ];

                const type = types[Math.floor(Math.random() * types.length)];
                const data = type.logic();
                const templateObj = type.templates[Math.floor(Math.random() * type.templates.length)];
                
                const q = templateObj.text(...data.vars);
                const unit = templateObj.unit;

                // ÁîüÊàêÂπ≤ÊìæÈÅ∏È†Ö
                const ans = data.answer;
                const options = [ans];
                
                // Â¢ûÂä†ÈåØË™§Ë∑ØÂæëÂπ≤Êìæ
                const [a, b, c] = data.vars;
                const distractor1 = a + b + c; // Ë™§Âä†
                const distractor2 = Math.abs(a - b - c); // Ë™§Ê∏õ
                const distractor3 = a + b; // ÊºèÊéâÊúÄÂæå‰∏ÄÊ≠•
                
                [distractor1, distractor2, distractor3].forEach(d => {
                    if (d !== ans && d > 0 && !options.includes(d)) options.push(d);
                });

                // Â¶ÇÊûúÈÇÑ‰∏çË∂≥ 4 ÂÄãÔºå‰ΩøÁî®Èö®Ê©üÂÅèÁßª
                while (options.length < 4) {
                    const offset = Math.floor(Math.random() * 10) + 1;
                    const opt = Math.random() > 0.5 ? ans + offset : ans - offset;
                    if (opt > 0 && !options.includes(opt)) options.push(opt);
                }

                return {
                    question: q,
                    answer: ans + unit,
                    options: this.shuffleArray(options.map(o => o + unit))
                };
            },
            getCoinSvg(value) {
                const colors = {
                    1: { bg: '#e67e22', border: '#d35400', text: '#fff' },
                    5: { bg: '#95a5a6', border: '#7f8c8d', text: '#fff' },
                    10: { bg: '#f1c40f', border: '#f39c12', text: '#8b4513' },
                    50: { bg: '#f1c40f', border: '#d35400', text: '#8b4513' },
                    100: { bg: '#e74c3c', border: '#c0392b', text: '#fff' },
                    500: { bg: '#2ecc71', border: '#27ae60', text: '#fff' },
                    1000: { bg: '#3498db', border: '#2980b9', text: '#fff' }
                };
                const c = colors[value] || colors[1];
                const isBill = value >= 100;
                if (isBill) {
                    const fontSize = value >= 1000 ? 22 : 26;
                    return `<svg viewBox="0 0 100 60" xmlns="http://www.w3.org/2000/svg">
                        <rect x="2" y="2" width="96" height="56" rx="5" fill="${c.bg}" stroke="${c.border}" stroke-width="2"/>
                        <circle cx="50" cy="30" r="15" fill="none" stroke="${c.border}" stroke-width="1" opacity="0.5"/>
                        <text x="50" y="38" font-family="Arial" font-size="${fontSize}" font-weight="bold" fill="${c.text}" text-anchor="middle">${value}</text>
                    </svg>`;
                }
                return `<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="50" cy="50" r="45" fill="${c.bg}" stroke="${c.border}" stroke-width="3"/>
                    <circle cx="50" cy="50" r="35" fill="none" stroke="${c.border}" stroke-width="1" stroke-dasharray="2,2"/>
                    <text x="50" y="65" font-family="Arial" font-size="40" font-weight="bold" fill="${c.text}" text-anchor="middle">${value}</text>
                </svg>`;
            }
        };

        const AudioSystem = {
            context: null,
            init() {
                this.context = new (window.AudioContext || window.webkitAudioContext)();
            },
            playCorrect() {
                if (!this.context) this.init();
                const oscillator = this.context.createOscillator();
                const gainNode = this.context.createGain();
                oscillator.connect(gainNode);
                gainNode.connect(this.context.destination);
                oscillator.frequency.setValueAtTime(523.25, this.context.currentTime);
                oscillator.frequency.setValueAtTime(659.25, this.context.currentTime + 0.1);
                oscillator.frequency.setValueAtTime(783.99, this.context.currentTime + 0.2);
                gainNode.gain.setValueAtTime(0.3, this.context.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, this.context.currentTime + 0.3);
                oscillator.start(this.context.currentTime);
                oscillator.stop(this.context.currentTime + 0.3);
            },
            playWrong() {
                if (!this.context) this.init();
                const oscillator = this.context.createOscillator();
                const gainNode = this.context.createGain();
                oscillator.connect(gainNode);
                gainNode.connect(this.context.destination);
                oscillator.frequency.setValueAtTime(200, this.context.currentTime);
                oscillator.type = 'sawtooth';
                gainNode.gain.setValueAtTime(0.3, this.context.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, this.context.currentTime + 0.2);
                oscillator.start(this.context.currentTime);
                oscillator.stop(this.context.currentTime + 0.2);
            },
            playComplete() {
                if (!this.context) this.init();
                const notes = [523.25, 587.33, 659.25, 783.99];
                notes.forEach((freq, i) => {
                    const oscillator = this.context.createOscillator();
                    const gainNode = this.context.createGain();
                    oscillator.connect(gainNode);
                    gainNode.connect(this.context.destination);
                    oscillator.frequency.setValueAtTime(freq, this.context.currentTime + i * 0.15);
                    gainNode.gain.setValueAtTime(0.2, this.context.currentTime + i * 0.15);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, this.context.currentTime + i * 0.15 + 0.3);
                    oscillator.start(this.context.currentTime + i * 0.15);
                    oscillator.stop(this.context.currentTime + i * 0.15 + 0.3);
                });
            }
        };

        const Levels = [
            {
                id: 1,
                name: 'Êï∏Â≠óÈ≠îÊ≥ïÂ∏´',
                icon: 'üßô‚Äç‚ôÇÔ∏è',
                generateQuestion: (difficulty) => {
                    const isEasy = difficulty === 'easy';
                    let num1, num2, operator, answer;
                    if (isEasy) {
                        operator = Math.random() > 0.5 ? '+' : '-';
                        if (operator === '+') {
                            num1 = Math.floor(Math.random() * 9) + 1;
                            num2 = Math.floor(Math.random() * (10 - num1)) + 1;
                            answer = num1 + num2;
                        } else {
                            answer = Math.floor(Math.random() * 9) + 1;
                            num2 = Math.floor(Math.random() * answer) + 1;
                            num1 = answer + num2;
                            answer = num1 - num2;
                        }
                    } else {
                        operator = Math.random() > 0.5 ? '+' : '-';
                        if (operator === '+') {
                            num1 = Math.floor(Math.random() * 90) + 10;
                            num2 = Math.floor(Math.random() * (100 - num1)) + 1;
                            answer = num1 + num2;
                        } else {
                            answer = Math.floor(Math.random() * 90) + 10;
                            num2 = Math.floor(Math.random() * answer) + 1;
                            num1 = answer + num2;
                            answer = num1 - num2;
                        }
                    }
                    return {
                        question: `${num1} ${operator} ${num2} = ?`,
                        answer: answer,
                        options: Utils.generateOptions(answer, isEasy ? 10 : 100)
                    };
                }
            },
            {
                id: 2,
                name: 'ÊïÖ‰∫ãËø∑ÂÆÆ',
                icon: 'üìñ',
                generateQuestion: (difficulty) => {
                    const isEasy = difficulty === 'easy';
                    if (isEasy) {
                        const scenarios = [
                            (a, b) => ({
                                q: `Â∞èÊòéÊúâ ${a} È°ÜÁ≥ñÊûúÔºåÂ™ΩÂ™ΩÂèàÁµ¶‰ªñ ${b} È°ÜÔºåÂ∞èÊòéÁèæÂú®ÊúâÂπæÈ°ÜÁ≥ñÊûúÔºü`,
                                a: a + b
                            }),
                            (a, b) => ({
                                q: `Ê®π‰∏äÊúâ ${a} ÈöªÂ∞èÈ≥•ÔºåÈ£õËµ∞‰∫Ü ${b} ÈöªÔºåÈÇÑÂâ©‰∏ãÂπæÈöªÂ∞èÈ≥•Ôºü`,
                                a: a - b
                            }),
                            (a, b) => ({
                                q: `Á±ÉÂ≠êË£°Êúâ ${a} È°ÜËòãÊûúÔºåÂ∞èËèØÂêÉÊéâ ${b} È°ÜÔºåÈÇÑÂâ©‰∏ãÂπæÈ°ÜËòãÊûúÔºü`,
                                a: a - b
                            }),
                            (a, b) => ({
                                q: `Êõ∏Êû∂‰∏äÂéüÊú¨Êúâ ${a} Êú¨ÊïÖ‰∫ãÊõ∏ÔºåÁà∏Áà∏ÂèàË≤∑‰∫Ü ${b} Êú¨Áµ¶Â∞èÊòéÔºåÁèæÂú®Êõ∏Êû∂‰∏äÂÖ±ÊúâÂπæÊú¨Êõ∏Ôºü`,
                                a: a + b
                            }),
                            (a, b) => ({
                                q: `Ëä±ÂúíË£°Èñã‰∫Ü ${a} ÊúµÁ¥ÖËä±ÔºåÊóÅÈÇäÈÇÑÊúâ ${b} ÊúµÈªÉËä±ÔºåËä±ÂúíË£°Á∏ΩÂÖ±ÊúâÂπæÊúµËä±Ôºü`,
                                a: a + b
                            }),
                            (a, b) => ({
                                q: `Â∞èË±¨Êí≤ÊªøË£°Êúâ ${a} ÂÖÉÔºåÂ∞èÁæé‰ªäÂ§©ÂèàÂ≠òÈÄ≤Âéª ${b} ÂÖÉÔºåÁèæÂú®Êí≤ÊªøË£°ÊúâÂ§öÂ∞ëÈå¢Ôºü`,
                                a: a + b
                            }),
                            (a, b) => ({
                                q: `ÂÅúËªäÂ†¥Ë£°ÂÅú‰∫Ü ${a} ËºõÁ¥ÖËâ≤Ê±ΩËªäÂíå ${b} ËºõËóçËâ≤Ê±ΩËªäÔºåÂÅúËªäÂ†¥Ë£°Á∏ΩÂÖ±ÊúâÂπæËºõËªäÔºü`,
                                a: a + b
                            }),
                            (a, b) => ({
                                q: `ÂÅúËªäÂ†¥ÂéüÊú¨Êúâ ${a} ËºõËªäÔºåÈñãËµ∞‰∫Ü ${b} ËºõÔºåÁèæÂú®ÂÅúËªäÂ†¥ÈÇÑÂâ©‰∏ãÂπæËºõËªäÔºü`,
                                a: a - b
                            }),
                            (a, b) => ({
                                q: `ÂÜ∞ÁÆ±Ë£°Êúâ ${a} È°ÜÈõûËõãÔºåÂ™ΩÂ™ΩÂÅöËõãÁ≥ïÁî®Êéâ‰∫Ü ${b} È°ÜÔºåÂÜ∞ÁÆ±ÈÇÑÂâ©‰∏ãÂπæÈ°ÜÈõûËõãÔºü`,
                                a: a - b
                            }),
                            (a, b) => ({
                                q: `Â∞è‰∏ëÊâã‰∏äÊúâ ${a} ÂÄãÊ∞£ÁêÉÔºå‰∏çÂ∞èÂøÉÈ£õËµ∞‰∫Ü ${b} ÂÄãÔºåÂ∞è‰∏ëÊâã‰∏äÈÇÑÂâ©‰∏ãÂπæÂÄãÊ∞£ÁêÉÔºü`,
                                a: a - b
                            }),
                            (a, b) => ({
                                q: `ÂÖ¨Ëªä‰∏äÂéüÊú¨Êúâ ${a} ÂÄã‰∫∫ÔºåÂà∞‰∫ÜËªäÁ´ôÂæå‰∏ãËªä‰∫Ü ${b} ÂÄã‰∫∫ÔºåÁèæÂú®Ëªä‰∏äÈÇÑÊúâÂπæÂÄã‰∫∫Ôºü`,
                                a: a - b
                            })
                        ];
                        const scenario = scenarios[Math.floor(Math.random() * scenarios.length)];
                        const num1 = Math.floor(Math.random() * 15) + 5;
                        const num2 = Math.floor(Math.random() * num1) + 1;
                        const result = scenario(num1, num2);
                        return {
                            question: result.q,
                            answer: result.a,
                            options: Utils.generateOptions(result.a, 20)
                        };
                    } else {
                        // Âõ∞Èõ£Ê®°ÂºèÔºö50% Ê©üÁéáÂæûÈ°åÂ∫´ÊäΩÈ°åÔºå50% Ê©üÁéáÈö®Ê©üÁîüÊàê
                        if (Math.random() > 0.5) {
                            return Utils.generateDynamicStory();
                        } else {
                            const randomIdx = Math.floor(Math.random() * STORY_MAZE_HARD_QUESTIONS.length);
                            const qData = STORY_MAZE_HARD_QUESTIONS[randomIdx];
                            return {
                                question: qData.q,
                                answer: qData.answer,
                                options: Utils.shuffleArray([...qData.options])
                            };
                        }
                    }
                }
            },
            {
                id: 3,
                name: '‰πòÊ≥ïÊé¢Èö™ÂÆ∂',
                icon: '‚úñÔ∏è',
                generateQuestion: (difficulty) => {
                    const isEasy = difficulty === 'easy';
                    let num1, num2;
                    if (isEasy) {
                        const multipliers = [2, 3, 4, 5];
                        num1 = multipliers[Math.floor(Math.random() * multipliers.length)];
                        num2 = Math.floor(Math.random() * 9) + 1;
                    } else {
                        num1 = Math.floor(Math.random() * 9) + 1;
                        num2 = Math.floor(Math.random() * 9) + 1;
                    }
                    const answer = num1 * num2;
                    return {
                        question: `${num1} √ó ${num2} = ?`,
                        answer: answer,
                        options: Utils.generateOptions(answer, isEasy ? 50 : 81)
                    };
                }
            },
            {
                id: 4,
                name: 'Â§ßÂ∞èÈ≠îÁéãÊà∞',
                icon: '‚öîÔ∏è',
                generateQuestion: (difficulty) => {
                    const isEasy = difficulty === 'easy';
                    let num1, num2;
                    if (isEasy) {
                        num1 = Math.floor(Math.random() * 90) + 10;
                        num2 = Math.floor(Math.random() * 90) + 10;
                    } else {
                        num1 = Math.floor(Math.random() * 900) + 100;
                        num2 = Math.floor(Math.random() * 900) + 100;
                    }
                    let answer;
                    if (num1 > num2) answer = '>';
                    else if (num1 < num2) answer = '<';
                    else answer = '=';
                    return {
                        question: `${num1} _____ ${num2}`,
                        answer: answer,
                        options: ['<', '>', '='],
                        isComparison: true
                    };
                }
            },
            {
                id: 5,
                name: 'Èå¢Âπ£Â§ßÂØåÁøÅ',
                icon: 'üí∞',
                generateQuestion: (difficulty) => {
                    const isEasy = difficulty === 'easy';
                    const coinConfigs = isEasy ? [
                        { value: 1, max: 10 },
                        { value: 5, max: 5 },
                        { value: 10, max: 3 }
                    ] : [
                        { value: 1, max: 10 },
                        { value: 5, max: 5 },
                        { value: 10, max: 5 },
                        { value: 50, max: 2 },
                        { value: 100, max: 2 },
                        { value: 500, max: 2 },
                        { value: 1000, max: 1 }
                    ];

                    // Èö®Ê©üÈÅ∏Âèñ 2-4 Á®ÆÈå¢Âπ£
                    const selectedConfigs = Utils.shuffleArray(coinConfigs).slice(0, isEasy ? 2 : 4);
                    // ÊåâÁÖßÂπ£ÂÄºÂ§ßÂà∞Â∞èÊéíÂ∫èÔºåË¶ñË¶∫‰∏äÊØîËºÉÊï¥ÈΩä
                    selectedConfigs.sort((a, b) => b.value - a.value);
                    let total = 0;
                    let coinsHtml = '';

                    selectedConfigs.forEach(config => {
                        const count = Math.floor(Math.random() * config.max) + 1;
                        total += config.value * count;
                        coinsHtml += `<div class="coin-row">`;
                        for (let i = 0; i < count; i++) {
                            const isBill = config.value >= 100;
                            const billClass = isBill ? 'is-bill' : '';
                            coinsHtml += `
                                <div class="coin-wrapper ${billClass}" style="margin: 1px;">
                                    <div class="coin-img">${Utils.getCoinSvg(config.value)}</div>
                                </div>
                            `;
                        }
                        coinsHtml += `<div class="coin-row-count">x ${count}</div>`;
                        coinsHtml += `</div>`;
                    });

                    return {
                        question: `‰Ω†ÊúâÈÄô‰∫õÈå¢ÔºåÁ∏ΩÂÖ±ÊúâÂ§öÂ∞ëÂÖÉÔºü`,
                        coinsHtml: coinsHtml,
                        answer: total,
                        options: Utils.generateOptions(total, isEasy ? 100 : 3000)
                    };
                }
            },
            {
                id: 6,
                name: 'ÊôÇÈñìÈ≠îÊ≥ïÈêò',
                icon: 'üïê',
                generateQuestion: (difficulty) => {
                    const isEasy = difficulty === 'easy';
                    let hour, minute, answer;
                    if (isEasy) {
                        // Easy mode: 5-minute intervals
                        hour = Math.floor(Math.random() * 12) + 1;
                        minute = Math.floor(Math.random() * 12) * 5;
                    } else {
                        // Hard mode: 1-minute intervals
                        hour = Math.floor(Math.random() * 12) + 1;
                        minute = Math.floor(Math.random() * 60);
                    }
                    const formatTime = (h, m) => `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`;
                    answer = formatTime(hour, minute);
                    return {
                        question: 'ÁèæÂú®ÊòØÂπæÈªûÔºü',
                        answer: answer,
                        hour: hour,
                        minute: minute,
                        options: generateTimeOptions(hour, minute, isEasy),
                        isClock: true
                    };
                }
            }
        ];

        // Áç®Á´ãÁöÑÁ∑¥ÁøíÈóúÂç°
        const PracticeLevels = [
            {
                id: 99,
                name: '‰πù‰πù‰πòÊ≥ïÁéã',
                icon: 'üî¢',
                generateQuestion: (difficulty) => {
                    const isEasy = difficulty === 'easy';
                    let num1, num2;

                    if (isEasy) {
                        // Á∞°ÂñÆÊ®°ÂºèÔºö2-5ÁöÑ‰πòÊ≥ïË°®
                        num1 = Math.floor(Math.random() * 4) + 2;
                        num2 = Math.floor(Math.random() * 8) + 2;
                    } else {
                        // Âõ∞Èõ£Ê®°ÂºèÔºöÂÆåÊï¥‰πù‰πù‰πòÊ≥ïË°® 2-9
                        num1 = Math.floor(Math.random() * 8) + 2;
                        num2 = Math.floor(Math.random() * 8) + 2;
                    }

                    const answer = num1 * num2;

                    // Áî¢ÁîüÊõ¥ÂÖ∑ÊåëÊà∞ÊÄßÁöÑÈÅ∏È†Ö
                    return {
                        question: `${num1} √ó ${num2} = ?`,
                        answer: answer,
                        options: Utils.generateMultiplicationOptions(answer)
                    };
                }
            }
        ];

        function generateTimeOptions(hour, minute, isEasy) {
            const formatTime = (h, m) => `${String(h).padStart(2, '0')}:${String(m).padStart(2, '0')}`;
            const correctAnswer = formatTime(hour, minute);
            const options = [correctAnswer];

            if (!isEasy) {
                // Âõ∞Èõ£Ê®°ÂºèÔºöÂº∑Âà∂Âä†ÂÖ•Â∞èÊôÇÊï∏ +-1 ÁöÑÈÅ∏È†Ö
                const prevHour = hour - 1 < 1 ? 12 : hour - 1;
                const nextHour = hour + 1 > 12 ? 1 : hour + 1;

                const opt1 = formatTime(prevHour, minute);
                const opt2 = formatTime(nextHour, minute);

                if (!options.includes(opt1)) options.push(opt1);
                if (!options.includes(opt2)) options.push(opt2);
            }

            while (options.length < 4) {
                // Ê≠•È©ü 1: ËÆìÂ∞èÊôÇ h Êé•ËøëÁ≠îÊ°à hour (+- 1 Â∞èÊôÇ)
                let h;
                const hourRange = 1; // Êé•ËøëÁØÑÂúçÔºö+- 1 Â∞èÊôÇ

                // Âú® [hour - 1, hour + 1] ÁØÑÂúçÂÖßÈö®Ê©üÁîüÊàêÂ∞èÊôÇ (‰ΩÜÈúÄËÄÉÊÖÆ 12 Â∞èÊôÇÂà∂)
                const minH = hour - hourRange;
                const maxH = hour + hourRange;

                // Èö®Ê©üÂú® minH Âà∞ maxH ‰πãÈñìÁîüÊàê h
                h = Math.floor(Math.random() * (maxH - minH + 1)) + minH;

                // ËôïÁêÜ h Ë∂ÖÂá∫ 1-12 ÁØÑÂúçÁöÑÊÉÖÊ≥ÅÔºå‰æãÂ¶Ç 12 + 1 = 1Ôºå 1 - 1 = 12
                h = (h < 1) ? 12 : (h > 12) ? 1 : h;

                // Ê≠•È©ü 2: ËÆìÂàÜÈêò m Êé•ËøëÁ≠îÊ°à minute (+- 15 ÂàÜÈêò)
                let m;
                const minuteRange = isEasy ? 15 : 5;
                const minM = Math.max(0, minute - minuteRange);
                const maxM = Math.min(59, minute + minuteRange);

                if (isEasy) {
                    // Âú®Êé•ËøëÁØÑÂúçÂÖßÁîüÊàê 5 ÁöÑÂÄçÊï∏
                    m = Math.floor(Math.random() * 12) * 5;
                } else {
                    // Âú®Êé•ËøëÁØÑÂúçÂÖßÁîüÊàê‰ªªÊÑèÂàÜÈêò
                    m = Math.floor(Math.random() * 60);
                }

                const option = formatTime(h, m);
                if (!options.includes(option)) {
                    options.push(option);
                }
            }
            return Utils.shuffleArray(options);
        }

        function drawClock(hour, minute) {
            const container = document.getElementById('clockContainerInner');
            if (!container) return;
            let ticksHtml = '';
            for (let i = 0; i < 60; i++) {
                const isHour = i % 5 === 0;
                const h = isHour ? 15 : 8; // %
                const w = isHour ? 2 : 1; // px
                const angle = i * 6;

                ticksHtml += `<div class="clock-tick" style="width: ${w}px; height: 50%; transform: translateX(-50%) rotate(${angle}deg);">
                    <div class="clock-tick-inner" style="height: ${h}%;"></div>
                </div>`;
            }

            let numbersHtml = '';
            for (let i = 1; i <= 12; i++) {
                const angleRad = (i * 30 - 90) * (Math.PI / 180);
                const radius = 38;
                const x = 50 + radius * Math.cos(angleRad);
                const y = 50 + radius * Math.sin(angleRad);
                numbersHtml += `<div class="clock-number" style="left: ${x}%; top: ${y}%">${i}</div>`;
            }
            container.innerHTML = `
                ${ticksHtml}
                ${numbersHtml}
                <div class="clock-center"></div>
                <div class="clock-hand hour-hand" id="hourHand"></div>
                <div class="clock-hand minute-hand" id="minuteHand"></div>
            `;
            
            // ‰ΩøÁî® setTimeout Á¢∫‰øù DOM Â∑≤Ê∏≤ÊüìÔºåÂæûËÄåËß∏Áôº CSS transition
            setTimeout(() => {
                const hourHand = document.getElementById('hourHand');
                const minuteHand = document.getElementById('minuteHand');
                if (hourHand && minuteHand) {
                    hourHand.style.transform = `rotate(${(hour % 12) * 30 + minute * 0.5}deg)`;
                    minuteHand.style.transform = `rotate(${minute * 6}deg)`;
                }
            }, 50);
        }

        const Storage = {
            getRecord(levelId, difficulty) {
                const key = `level_${levelId}_${difficulty}`;
                return parseInt(localStorage.getItem(key)) || 0;
            },
            saveRecord(levelId, difficulty, stars) {
                const key = `level_${levelId}_${difficulty}`;
                const current = this.getRecord(levelId, difficulty);
                if (stars > current) {
                    localStorage.setItem(key, stars);
                }
            }
        };

        const GameEngine = {
            state: {
                currentLevel: null,
                difficulty: null,
                questionIndex: 0,
                errors: 0,
                correctCount: 0,
                totalQuestions: 10,
                questions: [],
                isPracticeMode: false
            },

            init() {
                AudioSystem.init();
                UIManager.renderLevelMap();
            },

            startLevel(levelId, difficulty) {
                const level = Levels.find(l => l.id === levelId);
                if (!level) return;

                UIManager.closeModal();

                this.state = {
                    currentLevel: level,
                    difficulty: difficulty,
                    questionIndex: 0,
                    errors: 0,
                    correctCount: 0,
                    totalQuestions: 10,
                    questions: [],
                    isPracticeMode: false
                };

                for (let i = 0; i < this.state.totalQuestions; i++) {
                    this.state.questions.push(level.generateQuestion(difficulty));
                }

                UIManager.showScreen('game');
                UIManager.updateGameUI();
                this.showQuestion();
            },

            startPractice(levelId) {
                const level = PracticeLevels.find(l => l.id === levelId);
                if (!level) return;

                this.state = {
                    currentLevel: level,
                    difficulty: 'practice',
                    questionIndex: 0,
                    errors: 0,
                    correctCount: 0,
                    totalQuestions: Infinity,
                    questions: [],
                    isPracticeMode: true,
                    lastPracticeQuestion: null
                };

                UIManager.showScreen('game');
                UIManager.updatePracticeUI();
                this.generateNewPracticeQuestion();
            },

            showQuestion() {
                const question = this.state.questions[this.state.questionIndex];
                UIManager.renderQuestion(question, (selected, btn) => this.checkAnswer(selected, btn));
            },

            checkAnswer(selected, btnElement) {
                const currentQuestion = this.state.isPracticeMode 
                    ? this.state.lastPracticeQuestion
                    : this.state.questions[this.state.questionIndex];
                
                const isCorrect = selected === currentQuestion.answer;
                this.handleAnswer(isCorrect, selected, currentQuestion.answer, btnElement);
            },

            generateNewPracticeQuestion() {
                const question = this.state.currentLevel.generateQuestion(this.state.difficulty);
                this.state.lastPracticeQuestion = question;
                UIManager.renderQuestion(question, (selected, btn) => this.checkAnswer(selected, btn));
            },

            handleAnswer(isCorrect, selected, correctAnswer, btnElement) {
                UIManager.disableAnswerButtons();

                if (isCorrect) {
                    btnElement.classList.add('correct');
                    AudioSystem.playCorrect();
                    this.state.correctCount++;
                    
                    setTimeout(() => {
                        this.nextQuestion();
                    }, 1000);
                } else {
                    btnElement.classList.add('wrong');
                    AudioSystem.playWrong();
                    this.state.errors++;
                    UIManager.updateErrorCount(this.state.errors);
                    UIManager.highlightCorrectAnswer(correctAnswer);

                    if (!this.state.isPracticeMode && this.state.errors >= 3) {
                        setTimeout(() => this.endGame(), 1000);
                    } else {
                        setTimeout(() => this.nextQuestion(), this.state.isPracticeMode ? 2000 : 1000);
                    }
                }
            },

            nextQuestion() {
                this.state.questionIndex++;
                if (!this.state.isPracticeMode && this.state.questionIndex >= this.state.totalQuestions) {
                    this.endGame();
                } else {
                    if (this.state.isPracticeMode) {
                        UIManager.updatePracticeUI();
                        this.generateNewPracticeQuestion();
                    } else {
                        UIManager.updateGameUI();
                        this.showQuestion();
                    }
                }
            },

            endGame() {
                const stars = this.calculateStars();
                Storage.saveRecord(this.state.currentLevel.id, this.state.difficulty, stars);
                UIManager.showResult(stars, this.state.correctCount, this.state.totalQuestions);
            },

            calculateStars() {
                if (this.state.errors === 0) return 3;
                if (this.state.errors === 1) return 2;
                if (this.state.errors === 2) return 1;
                return 0;
            },

            retryLevel() {
                UIManager.hideResult();
                this.startLevel(this.state.currentLevel.id, this.state.difficulty);
            },

            backToMap() {
                UIManager.showScreen('map');
            }
        };

        const UIManager = {
            renderLevelMap() {
                const mapContainer = document.getElementById('levelMap');
                mapContainer.innerHTML = '';
                Levels.forEach(level => {
                    const easyStars = Storage.getRecord(level.id, 'easy');
                    const hardStars = Storage.getRecord(level.id, 'hard');
                    const card = document.createElement('div');
                    card.className = 'level-card';
                    card.onclick = () => this.openDifficultyModal(level.id);
                    card.innerHTML = `
                        <div class="level-icon">${level.icon}</div>
                        <h3>${level.name}</h3>
                        <div class="level-records">
                            <div class="record-item">
                                <div class="label">Á∞°ÂñÆ</div>
                                <div class="stars">${'‚≠ê'.repeat(easyStars)}${'‚òÜ'.repeat(3 - easyStars)}</div>
                            </div>
                            <div class="record-item">
                                <div class="label">Âõ∞Èõ£</div>
                                <div class="stars">${'‚≠ê'.repeat(hardStars)}${'‚òÜ'.repeat(3 - hardStars)}</div>
                            </div>
                        </div>
                    `;
                    mapContainer.appendChild(card);
                });

                const practiceContainer = document.getElementById('practiceMap');
                practiceContainer.innerHTML = '';
                PracticeLevels.forEach(level => {
                    const card = document.createElement('div');
                    card.className = 'practice-card';
                    card.onclick = () => GameEngine.startPractice(level.id);
                    card.innerHTML = `
                        <div class="practice-icon">${level.icon}</div>
                        <h3>${level.name}</h3>
                        <div class="practice-description">
                            ÁÑ°ÈôêÁ∑¥ÁøíÊ®°Âºè<br>
                            üí™ ÊåÅÁ∫åÊåëÊà∞‰πù‰πù‰πòÊ≥ïË°® üí™<br>
                            <small>ÁÑ°ÈåØË™§ÈôêÂà∂ ‚Ä¢ ÁÑ°ÊôÇÈñìÂ£ìÂäõ</small>
                        </div>
                    `;
                    practiceContainer.appendChild(card);
                });
            },

            openDifficultyModal(levelId) {
                const level = Levels.find(l => l.id === levelId);
                GameEngine.state.currentLevel = level;
                const modal = document.getElementById('difficultyModal');
                document.getElementById('modalTitle').textContent = `${level.name} - ÈÅ∏ÊìáÈõ£Â∫¶`;
                modal.classList.add('active');
            },

            closeModal() {
                document.getElementById('difficultyModal').classList.remove('active');
            },

            showScreen(screen) {
                const map = document.getElementById('levelMap');
                const practice = document.querySelector('.practice-section');
                const title = document.querySelector('.game-title');
                const game = document.getElementById('gameScreen');
                const result = document.getElementById('resultScreen');

                if (screen === 'map') {
                    game.classList.remove('active');
                    result.classList.remove('active');
                    map.style.display = 'grid';
                    practice.style.display = 'block';
                    title.style.display = 'block';
                    this.renderLevelMap();
                } else if (screen === 'game') {
                    map.style.display = 'none';
                    practice.style.display = 'none';
                    title.style.display = 'none';
                    game.classList.add('active');
                    result.classList.remove('active');
                }
            },

            updateGameUI() {
                const state = GameEngine.state;
                document.getElementById('levelName').textContent = state.currentLevel.name;
                document.getElementById('questionNumber').textContent = state.questionIndex + 1;
                document.getElementById('totalQuestions').textContent = state.totalQuestions;
                document.getElementById('errorCount').textContent = state.errors;
                
                // Show game elements
                document.getElementById('errorCount').parentElement.style.display = 'block';
                document.getElementById('progressFill').parentElement.style.display = 'block';
                
                const progress = (state.questionIndex / state.totalQuestions) * 100;
                document.getElementById('progressFill').style.width = progress + '%';
            },

            updatePracticeUI() {
                const state = GameEngine.state;
                document.getElementById('levelName').textContent = state.currentLevel.name + ' - Á∑¥ÁøíÊ®°Âºè';
                document.getElementById('questionNumber').textContent = state.questionIndex + 1;
                document.getElementById('totalQuestions').textContent = '‚àû';

                // Hide unnecessary elements
                document.getElementById('errorCount').parentElement.style.display = 'none';
                document.getElementById('progressFill').parentElement.style.display = 'none';
            },

            updateErrorCount(count) {
                document.getElementById('errorCount').textContent = count;
            },

            renderQuestion(question, onAnswer) {
                const questionContent = document.getElementById('questionContent');
                const answersContainer = document.getElementById('answersContainer');
                const clockContainer = document.getElementById('clockContainer');

                questionContent.textContent = question.question;
                clockContainer.innerHTML = '';
                answersContainer.innerHTML = '';

                if (question.coinsHtml) {
                    const coinDiv = document.createElement('div');
                    coinDiv.className = 'coin-container';
                    coinDiv.innerHTML = question.coinsHtml;
                    clockContainer.appendChild(coinDiv);
                }

                if (question.isClock) {
                    const clockDiv = document.createElement('div');
                    clockDiv.id = 'clockContainerInner';
                    clockDiv.className = 'clock-canvas';
                    clockContainer.appendChild(clockDiv);
                    drawClock(question.hour, question.minute);
                }

                question.options.forEach(option => {
                    const btn = document.createElement('button');
                    btn.className = 'answer-btn';
                    btn.textContent = option;
                    btn.onclick = () => onAnswer(option, btn);
                    answersContainer.appendChild(btn);
                });
            },

            disableAnswerButtons() {
                document.querySelectorAll('.answer-btn').forEach(btn => {
                    btn.disabled = true;
                    btn.style.cursor = 'not-allowed';
                });
            },

            highlightCorrectAnswer(correctAnswer) {
                document.querySelectorAll('.answer-btn').forEach(btn => {
                    if (btn.textContent === String(correctAnswer)) {
                        btn.classList.add('correct');
                    }
                });
            },

            showResult(stars, correctCount, totalQuestions) {
                document.getElementById('gameScreen').classList.remove('active');
                const resultScreen = document.getElementById('resultScreen');
                resultScreen.classList.add('active');

                const resultTitle = document.getElementById('resultTitle');
                const resultStars = document.getElementById('resultStars');
                const resultMessage = document.getElementById('resultMessage');

                if (stars === 3) {
                    resultTitle.textContent = 'Â§™Ê£í‰∫ÜÔºÅÂÆåÁæéÈÅéÈóúÔºÅ';
                    resultMessage.textContent = `‰Ω†Á≠îÂ∞ç‰∫ÜÂÖ®ÈÉ® ${totalQuestions} È°åÔºÅ`;
                    AudioSystem.playComplete();
                } else if (stars > 0) {
                    resultTitle.textContent = 'ÂÅöÂæóÂ•ΩÔºÅ';
                    resultMessage.textContent = `‰Ω†Á≠îÂ∞ç‰∫Ü ${correctCount} È°åÔºåÁπºÁ∫åÂä†Ê≤πÔºÅ`;
                    AudioSystem.playComplete();
                } else {
                    resultTitle.textContent = 'ÂÜçÊé•ÂÜçÂé≤ÔºÅ';
                    resultMessage.textContent = `ÈÄôÊ¨°Á≠îÂ∞ç‰∫Ü ${correctCount} È°åÔºå‰∏ãÊ¨°‰∏ÄÂÆöÊúÉÊõ¥Â•ΩÔºÅ`;
                }
                resultStars.textContent = '‚≠ê'.repeat(stars) + '‚òÜ'.repeat(3 - stars);
            },

            hideResult() {
                document.getElementById('resultScreen').classList.remove('active');
            },

            confirmExit() {
                if (confirm('Á¢∫ÂÆöË¶ÅÈõ¢ÈñãÈÅäÊà≤ÂóéÔºüÈÄ≤Â∫¶Â∞á‰∏çÊúÉ‰øùÂ≠ò„ÄÇ')) {
                    GameEngine.backToMap();
                }
            }
        };


        window.onload = () => {
            GameEngine.init();
        };
    </script>
</body>

</html>